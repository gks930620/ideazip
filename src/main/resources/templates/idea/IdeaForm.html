<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
    <title>Hello</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<style>
  .ck-editor__editable { height: 400px; }
   .ck-content { font-size: 12px; }

</style>
<body>
<nav th:replace="fragments/top :: top"></nav>
<br><br><br>
<div class="container">
    <form class="form-horizontal" action="/idea/ideaInsert" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
                <select id="id_searchCategory" name="searchCategory"
                        class="form-control input-sm">
                    <option value="">-- 전체 --</option>
                    <option th:each="category : ${categoryList}" th:value="${category.categoryCd}"
                            th:text="${category.categoryName}"
                    ></option>
                </select>
            </div>
            <div class="col-sm-4">
                <input type="text" class="form-control" id="title" placeholder="제목">
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">
                <textarea name="text" id="editor"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default">Sign in</button>
            </div>
        </div>


        <div class="form-group">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">
        <table class="table table-striped table-bordered">
            <colgroup>
                <col width="20%"/>
                <col/>
            </colgroup>
            <tr>
                <th>첨부파일
                    <button type="button" id="id_btn_new_file">추가</button>
                </th>
                <td class="file_area">
                    <div class="form-inline">
                        <input type="file" name="boFiles" class="form-control">
                        <button type="button" class="btn_delete btn btn-sm">삭제</button>
                    </div>
                </td>
            </tr>
        </table>
            </div>
        </div>
    </form>
</div>
</body>

<script type="text/javascript">
	$('#id_btn_new_file').click(function(){
		$('.file_area').append('<div class="form-inline">'
		+ '<input type="file" name="boFiles" class="form-control">'
		+ ' <button type="button" class="btn_delete btn btn-sm">삭제</button>' + '</div>');
		});
	$('.file_area').on('click','.btn_delete', function(){
		$(this).closest('div').remove();
		});
</script>

<!--<script src="/ckeditor5/build/ckeditor.js"></script>-->
<!--<script>
     ClassicEditor.create( document.querySelector( '#editor' ));
</script>-->
<script type="text/javascript" src="/ckeditor4_1/ckeditor.js"></script>
<script>
                CKEDITOR.replace( 'editor' );

</script>
</html>